<!-- MainSystem -->
<div id="SystemFont">
  <!-- Resizers -->
  <div class="snappingEdge">
    <div class="resizer snapping left" style="cursor: unset"></div>
    <div class="resizer snapping right" style="cursor: unset"></div>

    <div class="resizer snapping top-left" style="cursor: unset; width: 20px; height: 20px"></div>
    <div class="resizer snapping top-right" style="cursor: unset; width: 20px; height: 20px"></div>
  </div>
  <div id="SystemBackground">
    <!--Main System-->
    <section @NapicuOSfeoreStartUp id="System">
      <section style="width: 100%; height: 100%; display: flex; flex-direction: column">
        <!-- Top panel -->
        <section class="TopPanel">
          <div class="top-panel-item" (click)="onClickActivities()">Activities</div>
          <div (click)="clickDate()" class="top-panel-item">{{ systemTime }}</div>
          <!-- Date panel-->
          <div @NapicuOSfeoreNotification *ngIf="GetDateDisplay"
               class="DateContextMenu ContextMenuBox napicu-os-clickable">
            <section class="DateContextMenu-MainContainer">
              <!--Notifications-->
              <div class="DateContextMenu-box" style="overflow: hidden">
                <div class="MenuNotificationText">
                  <div>Notifications</div>
                  <div *ngIf="GetNotificationsMenu.length" class="NotCloseButtonScheme"
                       (click)="clearNotifications()">X
                  </div>
                </div>

                <div style="overflow-y: auto; height: 81%; padding: 0 10px; margin: 10px 0;" id="WindowScrollBar">
                  <section *ngFor="let i of GetNotificationsMenu"
                           @NapicuOSfeoreNotification
                           class="NotificationContextMenu ContextMenuBox napicu-os-clickable"
                           id="NotificationContextMenu-DateBox"
                           style="position: relative; top: 0">
                    <div class="ntf-con">
                      <div>
                        <img class="ntf-icon" [src]="i.icon" alt="NotificationIcon">
                      </div>
                      <div class="ntf-mainDes">
                        <div class="ntf-title-box">
                          <div class="ntf-title">{{i.title}}</div>
                          <div class="ntf-title-time">{{i.time}}</div>
                        </div>
                        <div class="ntf-des">
                          {{i.msg}}
                        </div>
                      </div>
                    </div>
                  </section>
                  <section *ngIf="!GetNotificationsMenu.length" class="NoNotification">
                    No notifications
                  </section>

                </div>
                <div class="ntfdnD">
                  <div class="ntfdnDT">Do not disturb</div>
                  <section class="SwitchNot">
                    <label class="switch napicu-os-clickable">
                      <input type="checkbox" [checked]="!GetUserNotificationA"
                             (change)="changeUserNotificationReceive()">
                      <span class="slider"></span>
                    </label>
                  </section>
                </div>
              </div>
              <!--Calendar-->
              <div class="DateContextMenu-box">
                <div class="NapicuCalendar">
                  <div class="TopCPanel">
                    <!--Calendar Day name & full date-->
                    <div class="dayName">{{GetDayName}}</div>
                    <div class="fullDate">{{GetFullDate}}</div>
                  </div>
                  <section class="NapicuCalendarMainBox">
                    <!--Calendar Header-->
                    <div class="header">
                      <div class="Arrow" (click)="arrowLeft()">◄</div>
                      <div class="title"><span>{{GetSelectedMonthName}}</span></div>
                      <div class="Arrow" (click)="arrowRight()">►</div>
                    </div>
                    <!--Calendar short days name-->
                    <div class="daysInWeek">
                      <span *ngFor="let i of GetShortDays">{{i}}</span>
                    </div>
                    <!--Calendar Days & weeks-->
                    <div class="days">
                      <div *ngFor="let i of GetNotificationCalendar" class="week">
                        <!--Calendar days-->


                        <div *ngFor="let d of i; let index = index" class="day" (click)="onClickDayInCalendar(d)"
                             [ngClass]="{selectedMonth: d.day == GetDate && !d.outOfMonth && !GetOutOfMonth, outDate:
                              d.outOfMonth }">
                          <!--                          <div *ngIf="d.day === selectedDayContext && !d.outOfMonth"-->
                          <!--                               class="ContextMenu ContextMenuBox napicu-os-clickable" style="right: auto; left: auto;-->
                          <!--                                padding: 10px">-->
                          <!--                            <div>Přidat upomínku</div>-->
                          <!--                          </div>-->
                          {{d.day}}
                        </div>


                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </section>
          </div>
          <!--Top menu icons-->
          <div class="top-panel-item" id="TopPanelIcons">
            <img src="/assets/systems/NapicuOS/audio.svg"/>
            <img src="/assets/systems/NapicuOS/on-off.svg"/>
          </div>
        </section>
        <!--Notification panel-->
        <ng-container *ngIf="GetNotification && !GetDateDisplay">
          <section @NapicuOSfeoreNotification (click)="onNotificationClick()"
                   class="Notification NotificationContextMenu ContextMenuBox"
                   style="padding: 0">
            <div class="ntf-main">
              <div class="ntf-con">
                <div>
                  <img class="ntf-icon" [src]="GetNotification.icon" alt="NotificationIcon">
                </div>
                <div class="ntf-mainDes">
                  <div class="ntf-exit NotCloseButtonScheme" (click)="onCloseNotification()">X</div>
                  <div class="ntf-title-box">
                    <div class="ntf-title">{{GetNotification.title}}</div>
                    <div class="ntf-title-time">{{GetNotification.time}}</div>
                  </div>
                  <div class="ntf-des">
                    {{GetNotification.msg}}
                  </div>
                </div>
              </div>
            </div>
          </section>

        </ng-container>
        <!-- Main Panel -->
        <section style="display: contents; background-color: white">
          <div [@NapicuOSfeoreActivityMenu]="GetActivityDisplay" [style.background-image]="'url(' + wallpaper + ')'"
               id="wallpaper">
            <!-- Apps -->
            <section>
              <app-window></app-window>
            </section>
          </div>
        </section>

        <!-- Bottom AppPanel -->
        <section *ngIf="BottomDockDisplay" class="BottomPanel" id="Dock"
                 style="z-index: 10000">
          <div style="display: flex; align-items: center; justify-content: space-between">
            <section style="display: flex;">
              <!-- Applications -->
              <div *ngFor="let i of GetBottomDockProcess; let index = index" class="DockIcon">
                <!-- Application context menu-->
                <div *ngIf="index === selectedAppContext" class="ContextMenu ContextMenuBox napicu-os-clickable">
                  <div (click)="openFileInContextMenu(i.file)">Open</div>
                  <div
                    (click)="pinFunFileInContextMenu(i.file, index, i.alreadyPinned)">{{i.alreadyPinned ?
                    'Unpin' : 'Pin'}}</div>
                </div>
                <!-- Application icon-->
                <img (click)="dockRunner(i.file, i.running)" (contextmenu)="onRightClick(index, $event)"
                     [src]="i.file.iconPath"
                     alt="Application icon"/>
                <!-- Application line-->
                <div *ngIf="i.running || i.selected" [ngClass]="{'widthLine': i.selected, 'smallLine':
                i.running}" class="line"></div>
              </div>
            </section>
          </div>
        </section>
      </section>
    </section>


  </div>
</div>
